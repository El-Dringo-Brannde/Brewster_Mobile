<ion-header>
  <ion-navbar>
    <button ion-button=""
            menuToggle="">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title class = 'text-center'>Brewster</ion-title>
        <ion-item class = 'transparent'>
            <span class = 'float-right'>
             {{loggedInUser}}
            </span>
          <ion-avatar item-end>
            <img src="https://i.imgur.com/6aqaXVG.jpg">
          </ion-avatar>
        </ion-item>
  </ion-navbar>
</ion-header>

<ion-content class="cards-bg backgroundImage">


<div id = 'map'></div>
<ion-card>
    <ion-card-header class = 'text-center'>
      <h1>Places to drink around you.</h1>
    </ion-card-header>
    <ion-card-content>
        <div class="container">
          <agm-map 
            [latitude]="userLatitude" 
            [longitude]="userLongitude" 
            [scrollwheel]="false" 
            [zoom]="zoom">
              <agm-marker 
                [latitude]="marker.latitude" 
                [longitude]="marker.longitude"
                *ngFor="let marker of nearbyLocations">
                <agm-info-window [disableAutoPan]="false">      
                    <div>
                      <b>Name:</b> {{marker.name}}<br>
                      <b>Address:</b> {{marker.address}}
                    </div>
                </agm-info-window>
              </agm-marker>
          </agm-map>
        </div>
    </ion-card-content>
</ion-card>


<ion-card>
  <ion-card-header>
    <h1 class = 'text-center'>
      Your recently reviewed beers.
      <ion-item>
        <button 
          ion-button 
          item-end
          clear

          (tap) = 'goToReviews()'>
          More &nbsp;
          <ion-icon ios="ios-arrow-forward" md="md-arrow-forward"></ion-icon>
        </button>
      </ion-item>
    </h1>
  </ion-card-header>
    <ion-card-content>
      <ion-list>
          <ion-item *ngFor = 'let beer of beers; let i =index'>
            <div *ngIf = 'i < 3'>
              <ion-avatar item-start>
                  <img *ngIf="beer.photo" [src] = 'beer.photo'>
                  <img 
                      *ngIf="!beer.photo"
                      src="./../../assets/imgs/beer.jpg" />   
              </ion-avatar>
              <h2>{{beer.name}}</h2>
              <p>{{beer.brewery}} | {{beer.rating}} | {{beer.taste}}</p>
            </div>
          </ion-item>
        </ion-list>
    </ion-card-content>
</ion-card>

<ion-card>
    <ion-card-header>
      <h1 class = 'text-center'>
        Your favorite beers.
        <ion-item>
          <button 
            ion-button 
            item-end
            clear
  
            (tap) = 'goToReviews()'>
            More &nbsp;
            <ion-icon ios="ios-arrow-forward" md="md-arrow-forward"></ion-icon>
          </button>
        </ion-item>
      </h1>
    </ion-card-header>
      <ion-card-content>
        <ion-list>
            <ion-item *ngFor = 'let beer of favorites; let i =index'>
              <div *ngIf = 'i < 3'>
                <ion-avatar item-start>
                    <img *ngIf="beer.photo" [src] = 'beer.photo'>
                    <img 
                        *ngIf="!beer.photo"
                        src="./../../assets/imgs/beer.jpg" />   
                </ion-avatar>
                <h2>{{beer.name}}</h2>
                <p>{{beer.brewery}} | {{beer.rating}} | {{beer.taste}}</p>
              </div>
            </ion-item>
          </ion-list>
      </ion-card-content>
  </ion-card>

  
  <ion-fab right bottom>
    <button ion-fab color = 'primary' (tap) = 'goToNew()'>
        <ion-icon ios="ios-add" md="md-add"></ion-icon>
    </button>
  </ion-fab>
</ion-content>
